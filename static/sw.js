(function(){"use strict";self.addEventListener("push",t=>{if(!t.data)return;const i=t.data.json(),o=i.title??"Wordify",n={body:i.body??"",icon:"/favicon.ico",data:{url:i.url??"/"}};t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(e=>{const c=i.url??"/";if(!e.some(l=>l.focused&&l.url===c))return self.registration.showNotification(o,n)}))}),self.addEventListener("notificationclick",t=>{t.notification.close();const i=t.notification.data?.url??"/";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(o=>{for(const n of o)if(n.url===i&&"focus"in n)return n.focus();return self.clients.openWindow(i)}))})})();
